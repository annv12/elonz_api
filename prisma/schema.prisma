// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Action {
  BUY_BNB
  BUY_USDT
  CONVERT
  CLAIM
  REWARD

  @@map("action")
}

model Ido {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  createdAt   DateTime @default(now()) @map("created_at")
  wallet      String
  amountBnb   Decimal  @map("amount_bnb")
  amountUsd   Decimal  @map("amount_usd")
  amountToken Decimal  @map("amount_token")
  action      Action
  price       Decimal
  hash String

  @@index([wallet, amountToken])
  @@map(name: "ido")
}

model Reward {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  createdAt   DateTime @default(now()) @map("created_at")
  user      String
  ref      String
  amount   Decimal 
  amountUsd   Decimal  @map("amount_usd") @default(0)
  amountBnb   Decimal  @map("amount_bnb") @default(0)
  action      Action
  price       Decimal
  hash String

  @@index([user, amount])
  @@map(name: "reward")
}
